<!DOCTYPE html>
<html>
    <head>
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
        <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    </head>
    
    <body>
        <div class="container">
            <div class="row centered-form">
                <div class="col-xs-12 col-sm-8 col-md-4 col-sm-offset-2 col-md-offset-4">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Please sign up for Bootsnipp <small>It's free!</small></h3>
			 			</div>
                         <div class="panel-body">
                            <form role="form">
                                <div class="row">
                                    <div class="col-xs-6 col-sm-6 col-md-6">
                                        <div class="form-group">
                                <input type="text" name="first_name" id="first_name" class="form-control input-sm" placeholder="First Name">
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <input type="text" name="last_name" id="last_name" class="form-control input-sm" placeholder="Last Name">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <input type="email" name="email" id="email" class="form-control input-sm" placeholder="Email Address">
                                </div>
    
                                <div class="row">
                                    <div class="col-xs-6 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <input type="password" name="password" id="password" class="form-control input-sm" placeholder="Password">
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <input type="password" name="password_confirmation" id="password_confirmation" class="form-control input-sm" placeholder="Confirm Password">
                                        </div>
                                    </div>
                                </div>
                                
                                <input type="submit" value="Register" class="btn btn-info btn-block">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                            
        </div>
    <script>
       let arrayvalue = JSON.parse(localStorage.getItem('userrecords'));
        console.log(arrayvalue);
        var userId = arrayvalue.length;
        console.log(userId)
        var registeredUser;
        for (var i = 0; i < arrayvalue.length; i++) {
            if (arrayvalue[i].id === userId) {
                registeredUser = arrayvalue[i];
                break;
            }
        }
        document.getElementById("first_name").innerHTML = registeredUser.first_name;
        document.getElementById("last_name").innerHTML = registeredUser.mobile_number;
        document.getElementById("password").innerHTML = registeredUser.email;
        document.getElementById("email_id").innerText = registeredUser.password;
        // document.getElementById("ditails").innerHTML ="";
        let profile_page = document.getElementById("profile");
        profile_page.onsubmit = e => {
            const details = document.getElementById("details").value;
            const about = document.getElementById("about").value;
            const age = document.getElementById("age").value;
            const interest = document.getElementById("interest").value;
            const sex = document.getElementById("sex").value;
            let moredetaials = {};
            moredetaials["details"] = ditails,
                moreditaials["about"] = about,
                moreditaials["age"] = age,
                moreditaials["intrest"] = intrest,
                moreditaials["sex"] = sex;
            let users = JSON.parse(localStorage.getItem('users')) || [];
            users.push(moreditaials);
            localStorage.setItem('users', JSON.stringify(users));
        }
 

    </script>       
    </body>
</html>

<!-- // function to retrieve data from local storage
function retrieveData() {
  var userData = JSON.parse(localStorage.getItem("userrecords"));

  // using AJAX to dynamically display data on the user-details page
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "user-details.html", true);
  xhr.onreadystatechange = function() {
    if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {
      // parsing the response to retrieve HTML elements
      var parser = new DOMParser();
      var htmlDoc = parser.parseFromString(this.responseText, "");

      // retrieving the elements to display data
      var name = htmlDoc.getElementById("first_name");
      var name = htmlDoc.getElementById("last_name");
      var email = htmlDoc.getElementById("email_id");
      var phone = htmlDoc.getElementById("phone");

      // displaying data on the elements
      first_name.innerHTML = userData.first_name;
      last_name.innerHTML = userData.last_name;
      email_id.innerHTML = userData.email;
      password.innerHTML = userData.password;
    }
  };
  xhr.send();
}

// calling the function to retrieve and display data
retrieveData(); -->